{"ast":null,"code":"var _jsxFileName = \"D:\\\\Shashini\\\\Assignments\\\\Assignments\\\\2025\\\\NSBM\\\\Plymouth\\\\Keith-2\\\\luxury_car_rental\\\\frontend\\\\src\\\\components\\\\User\\\\AppliedJobs.js\",\n  _s = $RefreshSig$();\nimport './AppliedJobs.css';\nimport { useState, useEffect, useCallback } from \"react\";\nimport axios from 'axios';\nimport VideoChat from '../Admin/VideoChat';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppliedJobs = () => {\n  _s();\n  const [appliedJobs, setAppliedJobs] = useState([]);\n  const savedUser = JSON.parse(localStorage.getItem(\"user\"));\n  const [showVideoChat, setShowVideoChat] = useState(false);\n\n  // Define the fetchAppliedJobs function\n  const fetchAppliedJobs = useCallback(async () => {\n    try {\n      const id = savedUser.user.id;\n      const response = await axios.get(`http://localhost:5000/api/user/jobs/${id}`);\n      setAppliedJobs(response.data);\n    } catch (error) {\n      console.error(\"Error fetching applicants:\", error);\n    }\n  }, [savedUser.user.id]);\n\n  // Use the fetchAppliedJobs function inside useEffect and include it in the dependency array\n  useEffect(() => {\n    fetchAppliedJobs();\n  }, [fetchAppliedJobs]); // <-- This is the fix: include fetchAppliedJobs in the dependency array\n\n  const handleStartVideoChat = e => {\n    setShowVideoChat(true);\n  };\n  const getStatusClass = status => {\n    switch (status) {\n      case \"Selected\":\n        return \"status-btn selected\";\n      case \"Rejected\":\n        return \"status-btn rejected\";\n      case \"Interviewing\":\n        return \"status-btn interviewing\";\n      case \"Reviewing\":\n        return \"status-btn reviewing\";\n      case \"Pending\":\n        return \"status-btn pending\";\n      default:\n        return \"status-btn applied\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"applied-jobs-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Applied Jobs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"applied-jobs-list\",\n      children: appliedJobs.map(e => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"applied-job-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"job-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: e.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Company:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 18\n            }, this), \" \", e.company]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 18\n            }, this), \" \", e.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Closing Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 18\n            }, this), \" \", e.applied_at]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), e.status === \"Interviewing\" && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"video-chat-btn\",\n          onClick: () => handleStartVideoChat(e),\n          children: \"Start Video Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), showVideoChat && /*#__PURE__*/_jsxDEV(VideoChat, {\n          applicant: e,\n          onClose: () => setShowVideoChat(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: getStatusClass(e.status),\n          children: e.status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, e.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(AppliedJobs, \"fe66djakPoJvNsngJGA8J52CZyA=\");\n_c = AppliedJobs;\nexport default AppliedJobs;\nvar _c;\n$RefreshReg$(_c, \"AppliedJobs\");","map":{"version":3,"names":["useState","useEffect","useCallback","axios","VideoChat","jsxDEV","_jsxDEV","AppliedJobs","_s","appliedJobs","setAppliedJobs","savedUser","JSON","parse","localStorage","getItem","showVideoChat","setShowVideoChat","fetchAppliedJobs","id","user","response","get","data","error","console","handleStartVideoChat","e","getStatusClass","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","title","company","description","applied_at","onClick","applicant","onClose","_c","$RefreshReg$"],"sources":["D:/Shashini/Assignments/Assignments/2025/NSBM/Plymouth/Keith-2/luxury_car_rental/frontend/src/components/User/AppliedJobs.js"],"sourcesContent":["\r\nimport './AppliedJobs.css';\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport axios from 'axios';\r\nimport VideoChat from '../Admin/VideoChat';\r\n\r\nconst AppliedJobs = () => {\r\nconst [appliedJobs, setAppliedJobs] = useState([]);\r\n  const savedUser = JSON.parse(localStorage.getItem(\"user\"));\r\n  const [showVideoChat, setShowVideoChat] = useState(false);\r\n\r\n  // Define the fetchAppliedJobs function\r\n  const fetchAppliedJobs = useCallback(async () => {\r\n    try {\r\n        const id= savedUser.user.id;\r\n      const response = await axios.get(`http://localhost:5000/api/user/jobs/${id}`);\r\n      setAppliedJobs(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching applicants:\", error);\r\n    }\r\n  }, [savedUser.user.id]);\r\n\r\n  // Use the fetchAppliedJobs function inside useEffect and include it in the dependency array\r\n  useEffect(() => {\r\n    fetchAppliedJobs();\r\n  }, [fetchAppliedJobs]); // <-- This is the fix: include fetchAppliedJobs in the dependency array\r\n\r\n  const handleStartVideoChat = (e) => {\r\n    setShowVideoChat(true);\r\n  };\r\n  const getStatusClass = (status) => {\r\n    switch (status) {\r\n      case \"Selected\":\r\n        return \"status-btn selected\";\r\n      case \"Rejected\":\r\n        return \"status-btn rejected\";\r\n      case \"Interviewing\":\r\n        return \"status-btn interviewing\";\r\n      case \"Reviewing\":\r\n        return \"status-btn reviewing\";\r\n      case \"Pending\":\r\n        return \"status-btn pending\";\r\n      default:\r\n        return \"status-btn applied\";\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"applied-jobs-container\">\r\n      <h2>Applied Jobs</h2>\r\n      \r\n      <div className=\"applied-jobs-list\">\r\n        {\r\n          appliedJobs.map((e) => (\r\n            <div key={e.id} className=\"applied-job-card\">\r\n                <div className=\"job-details\">\r\n                <h3>{e.title}</h3>\r\n              <p><strong>Company:</strong> {e.company}</p>\r\n              <p><strong>Location:</strong> {e.description}</p>\r\n              <p><strong>Closing Date:</strong> {e.applied_at}</p>\r\n                </div>\r\n                {e.status === \"Interviewing\" && (\r\n              <button className=\"video-chat-btn\" onClick={() => handleStartVideoChat(e)}>\r\n                Start Video Chat\r\n              </button>\r\n            )}\r\n                 {showVideoChat &&  (\r\n        <VideoChat applicant={e} onClose={() => setShowVideoChat(false)} />\r\n      )}\r\n            <button className={getStatusClass(e.status)}>{e.status}</button>\r\n                </div>\r\n          ))\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppliedJobs;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}