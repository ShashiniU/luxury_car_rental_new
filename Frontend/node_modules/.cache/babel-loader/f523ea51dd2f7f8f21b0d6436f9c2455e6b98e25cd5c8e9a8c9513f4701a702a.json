{"ast":null,"code":"var _jsxFileName = \"D:\\\\Shashini\\\\Assignments\\\\Assignments\\\\2025\\\\NSBM\\\\Plymouth\\\\Keith-2\\\\luxury_car_rental\\\\Frontend\\\\src\\\\components\\\\User\\\\PopDashboard.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport ProfilePicture from \"./ProfilePicture\";\nimport UserDetails from \"./UserDetails\";\nimport ResumeAndCoverLetter from \"./ResumeAndCoverLetter\";\nimport styles from \"./Dashboard.module.css\";\nimport Modal from \"react-modal\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PopDashboard = ({\n  isOpen,\n  onClose,\n  jobid\n}) => {\n  _s();\n  var _user$user, _user$user2, _user$user3;\n  const savedUser = JSON.parse(localStorage.getItem(\"user\"));\n  const [user, setUser] = useState(savedUser);\n\n  // const [resume, setResume] = useState(null)\n  // const [coverLetter, setCoverLetter] = useState(null)\n\n  const updateUserDetails = newDetails => {\n    setUser({\n      ...user.user,\n      ...newDetails\n    });\n  };\n  const updateProfilePicture = newPicture => {\n    setUser({\n      ...user.user,\n      profilePicture: newPicture\n    });\n  };\n  const updateResume = newResume => {\n    setUser({\n      ...user.user,\n      resume: newResume\n    });\n  };\n  const updatecoverLetter = newCover => {\n    setUser({\n      ...user.user,\n      coverLetter: newCover\n    });\n  };\n  const closeModal = () => {\n    onClose();\n  };\n  const handleSubmit = async () => {\n    try {\n      var _savedUser$user;\n      const url = \"http://localhost:5000/api/user/applying\";\n      const data = {\n        jobid,\n        userId: (_savedUser$user = savedUser.user) === null || _savedUser$user === void 0 ? void 0 : _savedUser$user.id\n      };\n      await axios.post(url, data, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      alert(\"Application sent successfully!\");\n      closeModal();\n    } catch (error) {\n      var _error$response;\n      console.error(\"Error:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      alert(\"Something went wrong!\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onRequestClose: closeModal,\n    className: \"modal-content\",\n    overlayClassName: \"modal-overlay\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.dashboard,\n      children: [/*#__PURE__*/_jsxDEV(ProfilePicture, {\n        profilePicture: (_user$user = user.user) === null || _user$user === void 0 ? void 0 : _user$user.profilePicture,\n        updateProfilePicture: updateProfilePicture\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(UserDetails, {\n        user: user.user,\n        updateUserDetails: updateUserDetails\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ResumeAndCoverLetter, {\n        resume: (_user$user2 = user.user) === null || _user$user2 === void 0 ? void 0 : _user$user2.resume,\n        coverLetter: (_user$user3 = user.user) === null || _user$user3 === void 0 ? void 0 : _user$user3.coverletter,\n        updateresume: updateResume,\n        updatecoverLetter: updatecoverLetter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        children: \"Apply Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(PopDashboard, \"cEmxioYwCA8yNjaZXk4pkZTeTcY=\");\n_c = PopDashboard;\nexport default PopDashboard;\nvar _c;\n$RefreshReg$(_c, \"PopDashboard\");","map":{"version":3,"names":["useState","ProfilePicture","UserDetails","ResumeAndCoverLetter","styles","Modal","axios","jsxDEV","_jsxDEV","PopDashboard","isOpen","onClose","jobid","_s","_user$user","_user$user2","_user$user3","savedUser","JSON","parse","localStorage","getItem","user","setUser","updateUserDetails","newDetails","updateProfilePicture","newPicture","profilePicture","updateResume","newResume","resume","updatecoverLetter","newCover","coverLetter","closeModal","handleSubmit","_savedUser$user","url","data","userId","id","post","headers","alert","error","_error$response","console","response","message","onRequestClose","className","overlayClassName","children","dashboard","fileName","_jsxFileName","lineNumber","columnNumber","coverletter","updateresume","onClick","_c","$RefreshReg$"],"sources":["D:/Shashini/Assignments/Assignments/2025/NSBM/Plymouth/Keith-2/luxury_car_rental/Frontend/src/components/User/PopDashboard.js"],"sourcesContent":["import { useState } from \"react\"\r\nimport ProfilePicture from \"./ProfilePicture\"\r\nimport UserDetails from \"./UserDetails\"\r\nimport ResumeAndCoverLetter from \"./ResumeAndCoverLetter\"\r\nimport styles from \"./Dashboard.module.css\"\r\nimport Modal from \"react-modal\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst PopDashboard = ({ isOpen, onClose, jobid }) => {\r\n  const savedUser = JSON.parse(localStorage.getItem(\"user\"));\r\n  const [user, setUser] = useState(savedUser);\r\n\r\n  // const [resume, setResume] = useState(null)\r\n  // const [coverLetter, setCoverLetter] = useState(null)\r\n\r\n  const updateUserDetails = (newDetails) => {\r\n    setUser({ ...user.user, ...newDetails })\r\n  }\r\n\r\n  const updateProfilePicture = (newPicture) => {\r\n    setUser({ ...user.user, profilePicture: newPicture })\r\n  }\r\n\r\n  const updateResume = (newResume) => {\r\n    setUser({ ...user.user, resume: newResume })\r\n  }\r\n  const updatecoverLetter = (newCover) => {\r\n    setUser({ ...user.user, coverLetter: newCover })\r\n  }\r\n\r\n  const closeModal = () => {       \r\n    onClose();\r\n};\r\n\r\nconst handleSubmit = async () => {\r\n  try {\r\n    const url = \"http://localhost:5000/api/user/applying\";\r\n    const data = { jobid, userId: savedUser.user?.id };\r\n\r\n    await axios.post(url, data, {\r\n      headers: { \"Content-Type\": \"application/json\" }\r\n    });\r\n\r\n    alert(\"Application sent successfully!\");\r\n    closeModal()\r\n  } catch (error) {\r\n    console.error(\"Error:\", error.response?.data || error.message);\r\n    alert(\"Something went wrong!\");\r\n  }\r\n};\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onRequestClose={closeModal} className=\"modal-content\" overlayClassName=\"modal-overlay\">\r\n    <div className={styles.dashboard}>\r\n      <ProfilePicture profilePicture={user.user?.profilePicture} updateProfilePicture={updateProfilePicture} />\r\n      <UserDetails user={user.user} updateUserDetails={updateUserDetails} />\r\n      <ResumeAndCoverLetter\r\n        resume={user.user?.resume}\r\n        coverLetter={user.user?.coverletter}\r\n        updateresume={updateResume}\r\n        updatecoverLetter={updatecoverLetter}\r\n      />\r\n    </div>\r\n      <div>\r\n      <button onClick={handleSubmit}>Apply Now</button>\r\n      </div>                    \r\n\r\n       </Modal>\r\n\r\n    \r\n  )\r\n}\r\n\r\nexport default PopDashboard\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}