{"ast":null,"code":"var _jsxFileName = \"D:\\\\Shashini\\\\Assignments\\\\Assignments\\\\2025\\\\NSBM\\\\Plymouth\\\\Keith-2\\\\luxury_car_rental\\\\frontend\\\\src\\\\components\\\\User\\\\ProfilePicture.js\",\n  _s = $RefreshSig$();\nimport styles from \"./ProfilePicture.module.css\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\n// import { Edit } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfilePicture = ({\n  profilePicture,\n  updateProfilePicture\n}) => {\n  _s();\n  const savedUser = JSON.parse(localStorage.getItem(\"user\"));\n  const [fileName, setFileName] = useState(\"\");\n  const [selectedFile, setSelectedFile] = useState(null);\n  // [profilePicture, updateProfilePicture] = useState();\n\n  const handleFileChange = event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        updateProfilePicture(reader.result);\n      };\n      reader.readAsDataURL(file);\n      setFileName(file.name);\n      setSelectedFile(file);\n    }\n  };\n  const handleSaveProfilePicture = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"profilePicture\", selectedFile);\n      formData.append(\"userId\", savedUser.user.id); // Replace with actual user ID\n\n      const res = await axios.post(\"http://localhost:5000/api/user/update-profile-picture\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      alert(\"Upload Successful! \");\n      localStorage.setItem(\"user\", JSON.stringify(res.data));\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Error saving profile picture:\", error);\n      alert(\"Failed to save profile picture.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-actions-row\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `card ${styles.profilePicture}`,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Profile Picture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-picture-container\",\n            children: [selectedFile || profilePicture ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: selectedFile ? URL.createObjectURL(selectedFile) : profilePicture,\n              alt: \"\",\n              className: \"profile-picture\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 34\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), selectedFile || profilePicture ? /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 34\n            }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"file-upload\",\n              type: \"file\",\n              className: \"d-none\",\n              accept: \"image/*\",\n              onChange: handleFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 1\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 1\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this), fileName && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"file-name\",\n        children: fileName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSaveProfilePicture,\n        className: \"save-button\",\n        children: \"Save Profile Picture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfilePicture, \"RLbhUIGsORFFVt646ktsda03ErY=\");\n_c = ProfilePicture;\nexport default ProfilePicture;\nvar _c;\n$RefreshReg$(_c, \"ProfilePicture\");","map":{"version":3,"names":["styles","useState","axios","jsxDEV","_jsxDEV","ProfilePicture","profilePicture","updateProfilePicture","_s","savedUser","JSON","parse","localStorage","getItem","fileName","setFileName","selectedFile","setSelectedFile","handleFileChange","event","_event$target$files","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","name","handleSaveProfilePicture","formData","FormData","append","user","id","res","post","headers","alert","setItem","stringify","data","window","location","reload","error","console","className","children","_jsxFileName","lineNumber","columnNumber","src","URL","createObjectURL","alt","type","accept","onChange","onClick","_c","$RefreshReg$"],"sources":["D:/Shashini/Assignments/Assignments/2025/NSBM/Plymouth/Keith-2/luxury_car_rental/frontend/src/components/User/ProfilePicture.js"],"sourcesContent":["import styles from \"./ProfilePicture.module.css\"\nimport { useState } from \"react\";\nimport axios from \"axios\";\n// import { Edit } from \"lucide-react\";\n\n\nconst ProfilePicture = ({ profilePicture, updateProfilePicture }) => {\n  const savedUser = JSON.parse(localStorage.getItem(\"user\"));\n\n    const [fileName, setFileName] = useState(\"\");\n    const [selectedFile, setSelectedFile] = useState(null);\n      // [profilePicture, updateProfilePicture] = useState();\n\n\n  const handleFileChange = (event) => {\n    const file = event.target.files?.[0]\n    if (file) {\n      const reader = new FileReader()\n      reader.onloadend = () => {\n        updateProfilePicture(reader.result);\n\n      }\n      reader.readAsDataURL(file);\n\n      setFileName(file.name);\n      setSelectedFile(file);\n    }\n  }\n\n\n\n  const handleSaveProfilePicture = async () => {\n\n    try {\n      const formData = new FormData();\n      formData.append(\"profilePicture\", selectedFile);\n      formData.append(\"userId\", savedUser.user.id); // Replace with actual user ID\n\n      const res= await axios.post(\"http://localhost:5000/api/user/update-profile-picture\", formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      });\n      alert(\"Upload Successful! \");\n      localStorage.setItem(\"user\", JSON.stringify(res.data));\n      window.location.reload()  \n        } catch (error) {\n      console.error(\"Error saving profile picture:\", error);\n      alert(\"Failed to save profile picture.\");\n    }\n  };\n\n\n  return (\n    <div className=\"user-actions-row\">\n    <div className={`card ${styles.profilePicture}`}>\n      <h2>Profile Picture</h2>\n      {/* <img src={profilePicture || \"/placeholder.svg?height=150&width=150\"}  className={styles.picture} />\n      <input type=\"file\" accept=\"image/*\" onChange={handleFileChange} className={styles.fileInput} id=\"file-upload\" /> */}\n      <div ><div >\n\n\n<div className=\"profile-picture-container\">\n{selectedFile || profilePicture ?<img\n            src={selectedFile ? URL.createObjectURL(selectedFile) : profilePicture }\nalt=\"\"\n            className=\"profile-picture\"\n          />: <div></div>}\n     {/* <label htmlFor=\"file-upload\" className=\"edit-button\">\n  <Edit size={16} />\n</label> */}\n{selectedFile || profilePicture ?<div></div>: \n\n<input\n  id=\"file-upload\"\n  type=\"file\"\n  className=\"d-none\"\n  accept=\"image/*\"\n  onChange={handleFileChange}\n/>}\n    </div>\n\n        </div>\n         </div>\n      {fileName && <p className=\"file-name\">{fileName}</p>}\n      <button onClick={handleSaveProfilePicture} className=\"save-button\">\n      Save Profile Picture</button>\n\n\n    </div>\n    \n   \n    \n    </div>\n  )\n}\n\nexport default ProfilePicture\n\n"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,6BAA6B;AAChD,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGA,MAAMC,cAAc,GAAGA,CAAC;EAAEC,cAAc;EAAEC;AAAqB,CAAC,KAAK;EAAAC,EAAA;EACnE,MAAMC,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EAExD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACe,YAAY,EAAEC,eAAe,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACpD;;EAGJ,MAAMiB,gBAAgB,GAAIC,KAAK,IAAK;IAAA,IAAAC,mBAAA;IAClC,MAAMC,IAAI,IAAAD,mBAAA,GAAGD,KAAK,CAACG,MAAM,CAACC,KAAK,cAAAH,mBAAA,uBAAlBA,mBAAA,CAAqB,CAAC,CAAC;IACpC,IAAIC,IAAI,EAAE;MACR,MAAMG,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,SAAS,GAAG,MAAM;QACvBnB,oBAAoB,CAACiB,MAAM,CAACG,MAAM,CAAC;MAErC,CAAC;MACDH,MAAM,CAACI,aAAa,CAACP,IAAI,CAAC;MAE1BN,WAAW,CAACM,IAAI,CAACQ,IAAI,CAAC;MACtBZ,eAAe,CAACI,IAAI,CAAC;IACvB;EACF,CAAC;EAID,MAAMS,wBAAwB,GAAG,MAAAA,CAAA,KAAY;IAE3C,IAAI;MACF,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,gBAAgB,EAAEjB,YAAY,CAAC;MAC/Ce,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAExB,SAAS,CAACyB,IAAI,CAACC,EAAE,CAAC,CAAC,CAAC;;MAE9C,MAAMC,GAAG,GAAE,MAAMlC,KAAK,CAACmC,IAAI,CAAC,uDAAuD,EAAEN,QAAQ,EAAE;QAC7FO,OAAO,EAAE;UAAE,cAAc,EAAE;QAAsB;MACnD,CAAC,CAAC;MACFC,KAAK,CAAC,qBAAqB,CAAC;MAC5B3B,YAAY,CAAC4B,OAAO,CAAC,MAAM,EAAE9B,IAAI,CAAC+B,SAAS,CAACL,GAAG,CAACM,IAAI,CAAC,CAAC;MACtDC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MAClBC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDP,KAAK,CAAC,iCAAiC,CAAC;IAC1C;EACF,CAAC;EAGD,oBACEnC,OAAA;IAAK4C,SAAS,EAAC,kBAAkB;IAAAC,QAAA,eACjC7C,OAAA;MAAK4C,SAAS,EAAE,QAAQhD,MAAM,CAACM,cAAc,EAAG;MAAA2C,QAAA,gBAC9C7C,OAAA;QAAA6C,QAAA,EAAI;MAAe;QAAAnC,QAAA,EAAAoC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAGxBhD,OAAA;QAAA6C,QAAA,eAAM7C,OAAA;UAAA6C,QAAA,eAGZ7C,OAAA;YAAK4C,SAAS,EAAC,2BAA2B;YAAAC,QAAA,GACzCjC,YAAY,IAAIV,cAAc,gBAAEF,OAAA;cACrBiD,GAAG,EAAErC,YAAY,GAAGsC,GAAG,CAACC,eAAe,CAACvC,YAAY,CAAC,GAAGV,cAAgB;cACpFkD,GAAG,EAAC,EAAE;cACMR,SAAS,EAAC;YAAiB;cAAAlC,QAAA,EAAAoC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5B,CAAC,gBAAEhD,OAAA;cAAAU,QAAA,EAAAoC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAU,CAAC,EAIxBpC,YAAY,IAAIV,cAAc,gBAAEF,OAAA;cAAAU,QAAA,EAAAoC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAU,CAAC,gBAE5ChD,OAAA;cACE+B,EAAE,EAAC,aAAa;cAChBsB,IAAI,EAAC,MAAM;cACXT,SAAS,EAAC,QAAQ;cAClBU,MAAM,EAAC,SAAS;cAChBC,QAAQ,EAAEzC;YAAiB;cAAAJ,QAAA,EAAAoC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5B,CAAC;UAAA;YAAAtC,QAAA,EAAAoC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACO;QAAC;UAAAtC,QAAA,EAAAoC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEG;MAAC;QAAAtC,QAAA,EAAAoC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,EACRtC,QAAQ,iBAAIV,OAAA;QAAG4C,SAAS,EAAC,WAAW;QAAAC,QAAA,EAAEnC;MAAQ;QAAAA,QAAA,EAAAoC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpDhD,OAAA;QAAQwD,OAAO,EAAE9B,wBAAyB;QAACkB,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAC/C;QAAAnC,QAAA,EAAAoC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAtC,QAAA,EAAAoC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAG1B;EAAC;IAAAtC,QAAA,EAAAoC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAID,CAAC;AAEV,CAAC;AAAA5C,EAAA,CAvFKH,cAAc;AAAAwD,EAAA,GAAdxD,cAAc;AAyFpB,eAAeA,cAAc;AAAA,IAAAwD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}