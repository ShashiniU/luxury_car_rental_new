{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"D:\\\\Shashini\\\\Assignments\\\\Assignments\\\\2025\\\\NSBM\\\\Plymouth\\\\Keith-2\\\\luxury_car_rental\\\\frontend\\\\src\\\\components\\\\Admin\\\\VideoChat.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from \"react\";\nimport io from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:5000\");\nconst VideoChat = ({\n  applicant,\n  onClose\n}) => {\n  _s();\n  const localVideoRef = useRef();\n  const remoteVideoRef = useRef();\n  useEffect(() => {\n    const initializeVideoChat = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: true,\n          audio: true\n        });\n        localVideoRef.current.srcObject = stream;\n        socket.emit(\"join-room\", applicant.id);\n        socket.on(\"user-connected\", userId => {\n          // Handle peer connection here\n        });\n        socket.on(\"user-disconnected\", userId => {\n          // Handle peer disconnection here\n        });\n      } catch (error) {\n        console.error(\"Error accessing media devices:\", error);\n      }\n    };\n    initializeVideoChat();\n    return () => {\n      socket.off(\"user-connected\");\n      socket.off(\"user-disconnected\");\n    };\n  }, [applicant.id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"video-chat\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Video Chat with \", applicant.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: localVideoRef,\n        autoPlay: true,\n        muted: true,\n        playsInline: true,\n        className: \"local-video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: remoteVideoRef,\n        autoPlay: true,\n        playsInline: true,\n        className: \"remote-video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClose,\n      children: \"End Call\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoChat, \"N2srizIvyzpmB0sxnI19Qk2jMcY=\");\n_c = VideoChat;\nexport default VideoChat;\nvar _c;\n$RefreshReg$(_c, \"VideoChat\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useEffect","useRef","io","jsxDEV","_jsxDEV","socket","VideoChat","applicant","onClose","localVideoRef","remoteVideoRef","initializeVideoChat","stream","navigator","mediaDevices","getUserMedia","video","audio","current","srcObject","emit","id","on","userId","error","console","off","className","children","name","fileName","lineNumber","columnNumber","ref","autoPlay","muted","playsInline","onClick","_c","$RefreshReg$"],"sources":["D:/Shashini/Assignments/Assignments/2025/NSBM/Plymouth/Keith-2/luxury_car_rental/frontend/src/components/Admin/VideoChat.js"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useRef } from \"react\"\r\nimport io from \"socket.io-client\"\r\n\r\nconst socket = io(\"http://localhost:5000\")\r\n\r\nconst VideoChat = ({ applicant, onClose }) => {\r\n  const localVideoRef = useRef()\r\n  const remoteVideoRef = useRef()\r\n\r\n  useEffect(() => {\r\n    const initializeVideoChat = async () => {\r\n      try {\r\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true })\r\n        localVideoRef.current.srcObject = stream\r\n\r\n        socket.emit(\"join-room\", applicant.id)\r\n\r\n        socket.on(\"user-connected\", (userId) => {\r\n          // Handle peer connection here\r\n        })\r\n\r\n        socket.on(\"user-disconnected\", (userId) => {\r\n          // Handle peer disconnection here\r\n        })\r\n      } catch (error) {\r\n        console.error(\"Error accessing media devices:\", error)\r\n      }\r\n    }\r\n\r\n    initializeVideoChat()\r\n\r\n    return () => {\r\n      socket.off(\"user-connected\")\r\n      socket.off(\"user-disconnected\")\r\n    }\r\n  }, [applicant.id])\r\n\r\n  return (\r\n    <div className=\"video-chat\">\r\n      <h3>Video Chat with {applicant.name}</h3>\r\n      <div className=\"video-container\">\r\n        <video ref={localVideoRef} autoPlay muted playsInline className=\"local-video\" />\r\n        <video ref={remoteVideoRef} autoPlay playsInline className=\"remote-video\" />\r\n      </div>\r\n      <button onClick={onClose}>End Call</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VideoChat\r\n\r\n"],"mappings":"AAAA,YAAY;;AAAA,IAAAA,YAAA;EAAAC,EAAA,GAAAC,YAAA;AAEZ,SAASC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,OAAOC,EAAE,MAAM,kBAAkB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEjC,MAAMC,MAAM,GAAGH,EAAE,CAAC,uBAAuB,CAAC;AAE1C,MAAMI,SAAS,GAAGA,CAAC;EAAEC,SAAS;EAAEC;AAAQ,CAAC,KAAK;EAAAV,EAAA;EAC5C,MAAMW,aAAa,GAAGR,MAAM,CAAC,CAAC;EAC9B,MAAMS,cAAc,GAAGT,MAAM,CAAC,CAAC;EAE/BD,SAAS,CAAC,MAAM;IACd,MAAMW,mBAAmB,GAAG,MAAAA,CAAA,KAAY;MACtC,IAAI;QACF,MAAMC,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;UAAEC,KAAK,EAAE,IAAI;UAAEC,KAAK,EAAE;QAAK,CAAC,CAAC;QACtFR,aAAa,CAACS,OAAO,CAACC,SAAS,GAAGP,MAAM;QAExCP,MAAM,CAACe,IAAI,CAAC,WAAW,EAAEb,SAAS,CAACc,EAAE,CAAC;QAEtChB,MAAM,CAACiB,EAAE,CAAC,gBAAgB,EAAGC,MAAM,IAAK;UACtC;QAAA,CACD,CAAC;QAEFlB,MAAM,CAACiB,EAAE,CAAC,mBAAmB,EAAGC,MAAM,IAAK;UACzC;QAAA,CACD,CAAC;MACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACxD;IACF,CAAC;IAEDb,mBAAmB,CAAC,CAAC;IAErB,OAAO,MAAM;MACXN,MAAM,CAACqB,GAAG,CAAC,gBAAgB,CAAC;MAC5BrB,MAAM,CAACqB,GAAG,CAAC,mBAAmB,CAAC;IACjC,CAAC;EACH,CAAC,EAAE,CAACnB,SAAS,CAACc,EAAE,CAAC,CAAC;EAElB,oBACEjB,OAAA;IAAKuB,SAAS,EAAC,YAAY;IAAAC,QAAA,gBACzBxB,OAAA;MAAAwB,QAAA,GAAI,kBAAgB,EAACrB,SAAS,CAACsB,IAAI;IAAA;MAAAC,QAAA,EAAAjC,YAAA;MAAAkC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACzC5B,OAAA;MAAKuB,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9BxB,OAAA;QAAO6B,GAAG,EAAExB,aAAc;QAACyB,QAAQ;QAACC,KAAK;QAACC,WAAW;QAACT,SAAS,EAAC;MAAa;QAAAG,QAAA,EAAAjC,YAAA;QAAAkC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAChF5B,OAAA;QAAO6B,GAAG,EAAEvB,cAAe;QAACwB,QAAQ;QAACE,WAAW;QAACT,SAAS,EAAC;MAAc;QAAAG,QAAA,EAAAjC,YAAA;QAAAkC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAF,QAAA,EAAAjC,YAAA;MAAAkC,UAAA;MAAAC,YAAA;IAAA,OACzE,CAAC,eACN5B,OAAA;MAAQiC,OAAO,EAAE7B,OAAQ;MAAAoB,QAAA,EAAC;IAAQ;MAAAE,QAAA,EAAAjC,YAAA;MAAAkC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAF,QAAA,EAAAjC,YAAA;IAAAkC,UAAA;IAAAC,YAAA;EAAA,OACxC,CAAC;AAEV,CAAC;AAAAlC,EAAA,CA1CKQ,SAAS;AAAAgC,EAAA,GAAThC,SAAS;AA4Cf,eAAeA,SAAS;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}